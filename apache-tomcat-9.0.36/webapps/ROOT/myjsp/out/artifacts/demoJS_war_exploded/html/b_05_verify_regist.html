<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>验证注册页面信息</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../src/css/layui.css"  media="all">
</head>

<!------ css ------>

<style>
    td div img{
        width: 20px;
    }
    .center{
        float:none;
        width: 503px;
        clear:both;
        margin-top: 0px;
        margin-right: auto;
        margin-bottom: 0px;
        margin-left: auto;
    }
    .inputs {
        border: 1px solid #333;
        width:250px;
        position: center;
        font-size: 12px;
    }
    .left{
        width:120px;
        text-align:right;
        padding-right:5px;
    }
    .red{
        color:#ff0000;
        padding-left:10px;
        font-size:12px;
    }
</style>

<!------ js ------>

<script>
    function checkAll() {
        if(checkUser() && checkPassword() && ConfirmPassword() && checkSex() && checkEmail()){
            return true;
        }
        return false;
    }

    /* 判断用户名 */
    function checkUser() {
        var user = document.getElementById("user").value;
        var reg=/^\w{4,12}$/;
        if(user === ""){
            document.getElementById("userId").innerHTML="用户名不能为空！";
        }
        else if(reg.test(user) === false){
            document.getElementById("userId").innerHTML="输入用户名有误！";
        }
        else{
            document.getElementById("userId").innerHTML="OK！";
            return true;
        }
        return false;
    }

    /* 判断密码 */
    function checkPassword() {
        var pwd = document.getElementById("pwd").value;
        var reg= /^[A-Za-z0-9]{4,15}$/;
        if (pwd === ""){
            document.getElementById("pwdId").innerHTML="密码不能为空!";
        }
        else if(reg.test(pwd) === false){
            document.getElementById("pwdId").innerHTML="输入密码有误!";
        }
        else{
            document.getElementById("pwdId").innerHTML="OK!";
            return true;
        }
        return false;
    }

    /* 确认密码 */
    function ConfirmPassword() {
        if(document.getElementById("repwd").value === "" ){
            document.getElementById("repwdId").innerHTML="确认密码不为应该空!";
        }
        else if(document.getElementById("pwd").value === ""){
            document.getElementById("repwdId").innerHTML="输入密码不为应该空!";
        }
        else if(document.getElementById("repwd").value === document.getElementById("pwd").value){
            document.getElementById("repwdId").innerHTML="OK!";
            return true;
        }
        else{
            document.getElementById("repwdId").innerHTML="输入密码与前面不一致!";
        }
        return false;
    }


    /* 判断性别 */
    function checkSex() {
        var sex = document.getElementsByName("sex");
        var flag=0;
        for (var i = 0; i < sex.length; i++) {
            if(sex[i].checked){
                flag = 1;
            }
            if(flag===1){
                document.getElementById("sexId").innerHTML="OK!";
                return true;
            }
            else{
                document.getElementById("sexId").innerHTML="未选择性别!";
            }
        }
        return false;
    }


    /*判断邮箱*/
    function checkEmail() {
        var email = document.getElementById("email").value;
        var reg=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;
        if(email === ""){
            document.getElementById("emailId").innerHTML="输入邮箱不能为空！";
        }
        else if(reg.test(email) === false){
            document.getElementById("emailId").innerHTML="输入邮箱有误！";
        }
        else{
            document.getElementById("emailId").innerHTML="OK!";
            return true;
        }
        return false;
    }

</script>

<!------ body ------>

<body>

    <!-- 任务描述  -->

    <fieldset class="layui-elem-field">
        <legend>任务描述</legend>
        <div class="layui-field-box">
            任务5. 验证注册页面信息<br><br>
            1．训练要点：<br><br>
            	正则表达式的使用；<br>
            	如何获取表单元素？<br>
            	函数的应用；<br>
            	掌握String对象的创建<br>
            	掌握String对象的常用方法<br>
            	表单验证的方法。<br><br>
            2．需求说明<br><br>
            根据所给素材制作注册页面，使用JavaScript制作文本提示特效，验证页面数据的有效性，要求如下：<br><br>
            （1）使用表单form的onsubmit事件，根据验证函数的返回值是true或false来决定是否提示表单。<br>
            （2）用户名不能为空，长度为4-12个字符，并且用户名只能由字母、数字和下划线组成。<br>
            （3）密码长度为6-12个字符，两次输入的密码必须一致。<br>
            （4）必须选择性别。<br>
            （5）电子邮箱地址不能为空，并且必须合法。<br>
            （6）错误提示信息显示在对应表单元素的后面，例如，若用户名不正确时，在文本框后进行提示。<br><br>
        </div>
    </fieldset>

    <!-- 完成结果  -->

    <fieldset class="layui-elem-field">
        <legend>完成结果</legend>
        <div class="layui-field-box">

            <div class="center"><img src="../img/header1.jpg" /></div>
            <div class="center">
                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                    <form action="b_05_success.html" method="post" name="myform" onsubmit="return checkAll()">
                        <tr>
                            <td class="left">用户名：</td>
                            <td><input id="user" type="text"  class="inputs" placeholder="请输入用户名（4-12位）"  /><div id="userId" class="red"></div></td>
                        </tr>
                        <tr>
                            <td class="left">密码：</td>
                            <td><input id="pwd" type="password"  class="inputs"  onclick="checkUser()" placeholder="请输入密码（数字字母组合，4-15位）"/><div id="pwdId" class="red"></div></td>
                        <tr>
                            <td class="left">确认密码：</td>
                            <td><input id="repwd" type="password"  class="inputs" onclick="checkUser(),checkPassword()" placeholder="确认密码和前面一致"/><div id="repwdId" class="red"></div></td>
                        </tr>
                        <tr>
                        <tr>
                            <td class="left">性别：</td>
                            <td><div style="float:left;"><input name="sex" type="radio" value="男" onclick="checkUser(),checkPassword(),ConfirmPassword()" />男 <input name="sex" type="radio" value="女" onclick="checkUser(),checkPassword(),ConfirmPassword()"/>女</div>
                                <div id="sexId" class="red"></div></td>
                        </tr>
                        <tr>
                            <td class="left">电子邮件地址</td>
                            <td><input id="email" type="text"  class="inputs" onclick="checkSex(),checkUser(),checkPassword(),ConfirmPassword(),checkSex()"  placeholder="请输入邮箱"/><div id="emailId" class="red"></div></td>
                        </tr>
                        <tr>
                            <td class="left">出生日期：</td>
                            <td><select id="year" >
                                <script type="text/javascript">
                                    for(var i=1900;i<=2020;i++){
                                        document.write("<option value="+i+">"+i+"</option>");
                                    }
                                </script>
                            </select>年
                                <select id="month">
                                    <script type="text/javascript">
                                        for(var i=1;i<=12;i++){
                                            document.write("<option value="+i+">"+i+"</option>");
                                        }
                                    </script>
                                </select>月
                                <select id="day">
                                    <script type="text/javascript">
                                        for(var i=1;i<=31;i++){
                                            document.write("<option value="+i+">"+i+"</option>");
                                        }
                                    </script>
                                </select>日</td>
                        </tr>
                        <tr>
                            <td>&nbsp;</td>
                            <td><input name="sub" type="submit" value="注册" /> <input name="cancel" type="reset" value="清除" /></td>
                        </tr>
                    </form>
                </table>
            </div>

        </div>
    </fieldset>

    <!-- 实现代码  -->


    <fieldset class="layui-elem-field">
        <legend>实现代码</legend>
        <div class="layui-field-box">
        <pre class="layui-code" >
    function checkAll() {
        if(checkUser() && checkPassword() && ConfirmPassword() && checkSex() && checkEmail()){
            return true;
        }
        return false;
    }
<br>
    /* 判断用户名 */
    function checkUser() {
        var user = document.getElementById("user").value;
        var reg=/^\w{4,12}$/;
        if(user === ""){
            document.getElementById("userId").innerHTML="用户名不能为空！";
        }
        else if(reg.test(user) === false){
            document.getElementById("userId").innerHTML="输入用户名有误！";
        }
        else{
            document.getElementById("userId").innerHTML="OK！";
            return true;
        }
        return false;
    }
<br>
    /* 判断密码 */
    function checkPassword() {
        var pwd = document.getElementById("pwd").value;
        var reg= /^[A-Za-z0-9]{4,15}$/;
        if (pwd === ""){
            document.getElementById("pwdId").innerHTML="密码不能为空!";
        }
        else if(reg.test(pwd) === false){
            document.getElementById("pwdId").innerHTML="输入密码有误!";
        }
        else{
            document.getElementById("pwdId").innerHTML="OK!";
            return true;
        }
        return false;
    }
<br>
    /* 确认密码 */
    function ConfirmPassword() {
        if(document.getElementById("repwd").value === "" ){
            document.getElementById("repwdId").innerHTML="确认密码不为应该空!";
        }
        else if(document.getElementById("pwd").value === ""){
            document.getElementById("repwdId").innerHTML="输入密码不为应该空!";
        }
        else if(document.getElementById("repwd").value === document.getElementById("pwd").value){
            document.getElementById("repwdId").innerHTML="OK!";
            return true;
        }
        else{
            document.getElementById("repwdId").innerHTML="输入密码与前面不一致!";
        }
        return false;
    }
<br>
    /* 判断性别 */
    function checkSex() {
        var sex = document.getElementsByName("sex");
        var flag=0;
        for (var i = 0; i < sex.length; i++) {
            if(sex[i].checked){
                flag = 1;
            }
            if(flag===1){
                document.getElementById("sexId").innerHTML="OK!";
                return true;
            }
            else{
                document.getElementById("sexId").innerHTML="未选择性别!";
            }
        }
        return false;
    }
<br>
    /*判断邮箱*/
    function checkEmail() {
        var email = document.getElementById("email").value;
        var reg=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;
        if(reg.test(email) === false){
            document.getElementById("emailId").innerHTML="输入邮箱有误！";
        }
        else{
            document.getElementById("emailId").innerHTML="OK!";
            return true;
        }
        return false;
    }
        </pre>
        </div>
    </fieldset>


    <script src="../src/layui.js"></script>
    <script>
        //JavaScript代码区域
        layui.use('code', function(){
            layui.code({
                title : '验证注册页面信息',
                about : false
            });

        });
    </script>

</body>
</html>