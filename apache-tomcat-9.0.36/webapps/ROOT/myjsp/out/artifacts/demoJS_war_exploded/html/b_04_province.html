<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JSON实现省市级联</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../src/css/layui.css"  media="all">
    <script language="javascript" src="../js/b_04_province.js"></script>
</head>

<!------ css ------>

<style type="text/css">
    select
    {
        width: 100px;
        text-align: center;
        margin: 5px;
        align-content: center;
    }
</style>

<!------ body ------>

<body onload="show()" >

    <!-- 任务描述  -->

    <fieldset class="layui-elem-field">
        <legend>任务描述</legend>
        <div class="layui-field-box">
            任务4. 使用JSON方式实现省市级联效果<br><br>
            1．训练要点：<br><br>
            	理解JSON的概念；<br>
            	掌握JSON对象的定义以及使用；<br>
            	如何使用JSON存储城市信息；<br>
            	如何页面加载时，遍历JSON数据，并将JSON数据渲染到页面；<br>
            	如何使用JSON实现下拉框联动。<br><br>
            2．需求说明<br><br>
            制作如下图所示的页面，页面加载时第一个下拉框显示所有的省的信息，当第一个下拉框选择数据后，第二个下拉框中显示对应省份的城市数据。<br><br>
        </div>
    </fieldset>

    <!-- 完成结果  -->

    <fieldset class="layui-elem-field">
        <legend>完成结果</legend>
        <div class="layui-field-box">
            <form>
                <center>
                    省份：<select name="province" id="province" onchange="loadCity()" required>
                    <option>--请选择--</option>
                </select>
                    城市：<select name="city" id="city" required>
                    <option>--请选择--</option>
                </select>
                    美食：<select name="food" id="food" required>
                    <option>--请选择--</option>
                </select><br><br>
                    <img src="../img/food_菠萝饭.png" id="foodimg"><br><br>
                    备注：每个省份挑了一张图放上来,选择不同的省份即可出现。<br>——————————————————————<br> 想看更多内容请联系作者更新。
                </center>

            </form>
        </div>

        <legend>实现代码</legend>
        <div class="layui-field-box">
        <pre class="layui-code">
var citys = [
    {"name":"广东省","info":['广州市','深圳市','佛山市', '珠海市'],"food":['马蹄糕','煲仔饭','肠粉','虾饺','叉烧包','双皮奶'],"foodsrc":["../img/food_马蹄糕.png"]},
    {"name":"四川省","info":['成都市','德阳市','绵阳市','广元市'],"food":['龙抄手','水煮牛肉','担担面','口水鸡','夫妻肺片','棒棒鸡'],"foodsrc":["../img/food_龙抄手.png"]},
    {"name":"云南省","info":['昆明市','大理市','丽江市'],"food":['菠萝饭','过桥米线','乌鸡汤','汽锅鸡','鲜花饼','酸角糕'],"foodsrc":["../img/food_菠萝饭.png"]},
    {"name":"贵州省","info":['贵阳市','遵义市'],"food":['丝娃娃','花江狗肉','羊肉粉','米豆腐','波波糖','老干妈'],"foodsrc":["../img/food_丝娃娃.png"]}
];
<br>
function show() {
    for (var i in citys) {
        document.getElementById("province").innerHTML += "<option>" + citys[i].name + "</option>";
    }
}
<br>
function loadCity() {
    var province = document.getElementById("province").value;
    var city = document.getElementById("city").value;
    for (var i in citys) {
        if(province === citys[i].name){
            document.getElementById("city").options.length = 1;
            for (var j in citys[i].info) {
                document.getElementById("city").innerHTML += "<option>" + citys[i].info[j] + "</option>";
            }

            document.getElementById("food").options.length = 1;
            for (var j in citys[i].food) {
                document.getElementById("food").innerHTML += "<option>" + citys[i].food[j] + "</option>";
                document.getElementById("foodimg").src = citys[i].foodsrc;
            }
        }
    }
}

            </pre>
        </div>
    </fieldset>


    <script src="../src/layui.js"></script>
    <script>
        //JavaScript代码区域
        layui.use('code', function(){
            layui.code({
                title : 'JSON方式实现省市级联',
                about : false
            });

        });
    </script>

</body>
</html>